{"mappings":";AAAA,SAAS,gBAAgB,CAAC,oBAAoB;IAC5C,MAAM,mBAAmB;QACvB,MAAM,aAAa,SAAS,aAAa,CAAC;QAC1C,MAAM,eAAe,WAAW,gBAAgB,CAAC;QACjD,aAAa,OAAO,CAAC,CAAC;YACpB,MAAM,gBAAgB,CAAC,UAAU;gBAC/B,WAAW,MAAM;YACnB;QACF;IACF;IAEA,MAAM,oBAAoB;QACxB,MAAM,OAAO,SAAS,gBAAgB,CAAC;QAEvC,KAAK,OAAO,CAAC,CAAC;YACZ,IAAI,gBAAgB,CAAC,SAAS,SAAU,CAAC;gBACvC,EAAE,cAAc;gBAEhB,6DAA6D;gBAC7D,MAAM,aAAa,IAAI,SAAS,CAAC,QAAQ,CAAC;gBAE1C,sDAAsD;gBACtD,MAAM,iBAAiB,SAAS,aAAa,CAAC;gBAE9C,8CAA8C;gBAC9C,MAAM,sBAAsB,SAAS,eAAe,OAAO,CAAC,MAAM,EAAE;gBACpE,IAAI,MAAM,wBAAwB,uBAAuB,GAAG;oBAC1D,QAAQ,KAAK,CAAC;oBACd;gBACF;gBAEA,oFAAoF;gBACpF,MAAM,kBAAkB,aACpB,sBAAsB,IACtB,KAAK,GAAG,CAAC,GAAG,sBAAsB;gBAEtC,gDAAgD;gBAChD,eAAe,WAAW,GAAG;gBAC7B,eAAe,OAAO,CAAC,MAAM,GAAG;gBAEhC,kDAAkD;gBAClD,MAAM,aAAa,SAAS,gBAAgB,CAAC;gBAC7C,WAAW,OAAO,CAAC,CAAC;oBAClB,gDAAgD;oBAChD,MAAM,WAAW,WAAW,GAAG,OAAO,CAAC,QAAQ;oBAC/C,MAAM,OAAO,GAAG,OAAO,CAAC,IAAI,IAAI;oBAEhC,IAAI,MAAM,WAAW;wBACnB,QAAQ,KAAK,CAAC,8CAAqC;wBACnD;oBACF;oBAEA,6CAA6C;oBAC7C,MAAM,cAAc,WAAW;oBAE/B,GAAG,WAAW,GAAG,CAAC,EAAE,YAAY,CAAC,EAAE,KAAK,CAAC;gBAC3C;YACF;QACF;IACF;IAEA;IACA;AACF","sources":["src/js/main.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\n  const submitFilterForm = () => {\n    const filterForm = document.querySelector(\"#filter-form\");\n    const filterInputs = filterForm.querySelectorAll(\"select\");\n    filterInputs.forEach((input) => {\n      input.addEventListener(\"change\", function () {\n        filterForm.submit();\n      });\n    });\n  };\n\n  const resizeIngredients = () => {\n    const btns = document.querySelectorAll(\".btn-quantity\");\n\n    btns.forEach((btn) => {\n      btn.addEventListener(\"click\", function (e) {\n        e.preventDefault();\n\n        // Vérifie si c'est un bouton d'augmentation ou de diminution\n        const isIncrease = btn.classList.contains(\"btn-increase\");\n\n        // Récupère l'élément affichant le nombre de personnes\n        const numberPersonEl = document.querySelector(\"#number-person\");\n\n        // Lit et valide le nombre actuel de personnes\n        const numberPersonInitial = parseInt(numberPersonEl.dataset.person, 10);\n        if (isNaN(numberPersonInitial) || numberPersonInitial <= 0) {\n          console.error(\"Nombre initial de personnes invalide.\");\n          return;\n        }\n\n        // Calcule le nouveau nombre de personnes, en empêchant de descendre en dessous de 1\n        const newNumberPerson = isIncrease\n          ? numberPersonInitial + 1\n          : Math.max(1, numberPersonInitial - 1);\n\n        // Met à jour le nombre de personnes dans le DOM\n        numberPersonEl.textContent = newNumberPerson;\n        numberPersonEl.dataset.person = newNumberPerson;\n\n        // Met à jour toutes les quantités des ingrédients\n        const quantities = document.querySelectorAll(\".quantity\");\n        quantities.forEach((el) => {\n          // Lit et valide la quantité et l'unité actuelle\n          const quantity = parseFloat(el.dataset.quantity);\n          const unit = el.dataset.unit || \"\";\n\n          if (isNaN(quantity)) {\n            console.error(\"Quantité invalide pour l'élément:\", el);\n            return;\n          }\n\n          // Calcule et met à jour la nouvelle quantité\n          const newQuantity = quantity * newNumberPerson;\n\n          el.textContent = `${newQuantity} ${unit}`;\n        });\n      });\n    });\n  };\n\n  resizeIngredients();\n  submitFilterForm();\n});\n"],"names":[],"version":3,"file":"index.67aac836.js.map"}